# 代码风格规范

## 1. 通用风格原则

1. **一致性**：在整个项目中保持一致的代码风格
2. **可读性**：优先考虑代码的可读性，而不是简洁性
3. **清晰性**：代码应清晰表达其意图
4. **简洁性**：在不牺牲可读性的前提下保持代码简洁
5. **注释**：添加必要的注释，解释复杂的逻辑和决策

## 2. HTML/Hugo 模板风格规范

### 2.1 缩进

- 使用 4 个空格进行缩进
- 不要使用制表符

**示例**：
```html
<div class="container">
    <h1>{{ .Title }}</h1>
    <p>{{ .Content }}</p>
</div>
```

### 2.2 标签格式

- 标签名称使用小写
- 闭合标签与开始标签对齐
- 自闭合标签使用 `/>` 结尾

**示例**：
```html
<img src="{{ .Params.featuredImage }}" alt="{{ .Title }}" />
<div class="content">
    {{ .Content }}
</div>
```

### 2.3 Hugo 模板语法

- 使用 `{{-` 和 `-}}` 移除多余的空白字符
- 变量命名使用驼峰命名法
- 模板函数名称使用小写

**示例**：
```html
{{- $title := .Title -}}
<h1>{{ $title }}</h1>
{{- if .Params.featuredImage -}}
    <img src="{{ .Params.featuredImage }}" alt="{{ $title }}" />
{{- end -}}
```

### 2.4 注释

- 使用 HTML 注释语法 `<!-- 注释内容 -->`
- 注释应清晰解释模板的功能和逻辑

**示例**：
```html
<!-- 文章头部信息 -->
<header class="post-header">
    <h1>{{ .Title }}</h1>
    <div class="post-meta">
        <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "2006-01-02" }}</time>
    </div>
</header>
```

## 3. CSS/SCSS 风格规范

### 3.1 缩进

- 使用 4 个空格进行缩进
- 不要使用制表符

### 3.2 命名约定

- 使用 BEM（Block, Element, Modifier）命名规范
- 选择器名称使用小写，单词之间用短横线分隔

**示例**：
```scss
.post {
    // Block
    background-color: #fff;
    
    &__title {
        // Element
        font-size: 24px;
    }
    
    &--featured {
        // Modifier
        border-left: 4px solid #000;
    }
}
```

### 3.3 声明顺序

- 位置属性（position, top, right, bottom, left）
- 盒模型（display, margin, padding, width, height）
- 文本属性（color, font, text-align, line-height）
- 背景属性（background, background-color, background-image）
- 其他属性（border, border-radius, box-shadow, transition）

**示例**：
```scss
.post {
    position: relative;
    margin: 20px 0;
    padding: 20px;
    width: 100%;
    color: #333;
    font-size: 16px;
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 4px;
}
```

### 3.4 注释

- 使用 `/* 注释内容 */` 语法
- 为复杂的样式规则添加注释
- 为样式块添加标题注释

**示例**：
```scss
/* 文章样式 */
.post {
    // 基础样式
    background-color: #fff;
    
    /* 响应式样式 */
    @media (max-width: 768px) {
        padding: 10px;
    }
}
```

## 4. JavaScript 风格规范

### 4.1 缩进

- 使用 4 个空格进行缩进
- 不要使用制表符

### 4.2 命名约定

- 变量和函数名称使用驼峰命名法（camelCase）
- 常量使用全大写，单词之间用下划线分隔
- 类名称使用帕斯卡命名法（PascalCase）

**示例**：
```javascript
const MAX_RESULTS = 10;

function searchPosts(query) {
    // 函数实现
}

class Post {
    constructor(title, content) {
        this.title = title;
        this.content = content;
    }
}
```

### 4.3 语法规范

- 使用分号结束语句
- 使用双引号或单引号（保持一致）
- 大括号 `{` 放在同一行
- 箭头函数使用简洁的语法

**示例**：
```javascript
const posts = [
    { title: 'Post 1', content: 'Content 1' },
    { title: 'Post 2', content: 'Content 2' }
];

const filteredPosts = posts.filter(post => post.title.includes('Post'));

function displayPosts() {
    filteredPosts.forEach(post => {
        console.log(post.title);
    });
}
```

### 4.4 注释

- 使用 `//` 进行单行注释
- 使用 `/* */` 进行多行注释
- 为复杂的函数和逻辑添加注释

**示例**：
```javascript
// 初始化搜索功能
function initSearch() {
    const searchInput = document.getElementById('search-input');
    
    // 搜索输入事件监听
    searchInput.addEventListener('input', (e) => {
        const query = e.target.value;
        searchPosts(query);
    });
}
```

## 5. Markdown 内容风格规范

### 5.1 标题

- 使用 `#` 到 `######` 表示标题层级
- 标题前后空一行

**示例**：
```markdown
# 一级标题

内容...

## 二级标题

内容...
```

### 5.2 段落和格式

- 段落之间空一行
- 强调使用 `*斜体*` 或 `**粗体**`
- 代码使用 `` `inline code` `` 或代码块

**示例**：
```markdown
这是一个段落，包含 *斜体* 和 **粗体** 文本。

这是另一个段落，包含代码：`const x = 10;`。

```javascript
// 代码块
function hello() {
    console.log('Hello world');
}
```
```

### 5.3 链接和图片

- 链接使用 `[链接文本](URL)` 格式
- 图片使用 `![图片描述](图片URL)` 格式

**示例**：
```markdown
[Hugo 官方网站](https://gohugo.io/)

![Hugo 标志](https://gohugo.io/images/hugo-logo.png)
```

### 5.4 列表

- 无序列表使用 `-` 或 `*`
- 有序列表使用数字
- 列表项缩进 4 个空格

**示例**：
```markdown
- 无序列表项 1
- 无序列表项 2
    - 嵌套列表项

1. 有序列表项 1
2. 有序列表项 2
```

## 6. Git 提交规范

### 6.1 提交消息格式

```
<type>(<scope>): <subject>

<body>

<footer>
```

- **type**：提交类型（feat, fix, docs, style, refactor, test, chore）
- **scope**：提交范围（可选）
- **subject**：提交主题（简短描述）
- **body**：提交正文（详细描述）
- **footer**：提交脚注（如关闭的 issue）

### 6.2 提交类型说明

- **feat**：新功能
- **fix**：修复 bug
- **docs**：文档更新
- **style**：代码风格调整（不影响功能）
- **refactor**：代码重构（不影响功能）
- **test**：测试相关
- **chore**：构建过程或辅助工具的变动

**示例**：
```
feat(search): 添加搜索功能

- 集成 FlexSearch 搜索引擎
- 实现搜索结果高亮显示
- 添加搜索框占位符提示

Closes #123
```

### 6.3 提交规范检查清单

- 提交消息使用中文
- 主题行不超过 50 个字符
- 正文每行不超过 72 个字符
- 解释 "what" 和 "why"，而不是 "how"
- 引用相关的 issue 或 PR

## 7. 代码审查标准

1. **风格一致性**：代码风格与项目规范一致
2. **可读性**：代码易于阅读和理解
3. **功能正确性**：代码实现了预期的功能
4. **性能**：代码性能良好，没有明显的性能瓶颈
5. **安全性**：代码没有安全漏洞
6. **可维护性**：代码易于维护和扩展
7. **测试**：代码有适当的测试覆盖

## 8. 工具支持

- **HTML/Hugo 模板**：使用 Hugo 的 `hugo server` 验证模板语法
- **CSS/SCSS**：使用 Sass 编译器验证语法
- **JavaScript**：使用 ESLint 检查代码风格
- **Markdown**：使用 Prettier 格式化内容
- **Git**：使用 Git 钩子验证提交消息格式

---

**注意**：这些规范是指导性的，不是强制性的。在特殊情况下，可以灵活调整，但应保持整体的一致性和可读性。